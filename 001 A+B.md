## A+B

给出两个整数 a 和 b , 求他们的和。

## 1. 直接返回

```java
return A + B；
```

## 2. 通过位运算

首先要了解以下几个位运算的含义：

| 含义     | 运算符 | 例子                                |
| -------- | ------ | ----------------------------------- |
| 左移     | <<     | 0011<<0110       3<< 6              |
| 右移     | >>     | 0110>>0011       6>> 3              |
| 按位与   | &      | 0011 & 1011  == 0011  3&11 ==3      |
| 按位或   | \|     | 0011 \| 1011 == 1011    3\|11 == 11 |
| 按位异或 | ^      | 0011^1011  == 1000  3^11 == 8       |

算法说明：以11+5为例：其二进制形式为11: 1011, 5: 0101

1. 与运算得出哪些位需要进位(因为只有两位都位1时，&的结果才为1，此时相加也需要进位)，11&5	-->   0001，表示第1位相加需要网前进位，进位后的值位0010
2. 异或运算得到两数二进制各位上分别相加的结果(此时的相加结果是考虑去掉进位后的，即1+1=0不进位)，11^5	-->   1110
3. 步骤1、2的结果相加即可，直到不产生进位(也就是步骤1的结果位0）

```java
public class Solution {
    /**
     * @param a: An integer
     * @param b: An integer
     * @return: The sum of a and b 
     */
    public int aplusb(int a, int b) {
        
        // 与运算得出哪些位需要进位
        int carry = a&b;
        // 异或操作计算得出不考虑进位时a和b的和,当不存在进位时，carry位0时，sum就是a、b的和
        int sum = a^b;
        
        // 当存在进位时，递归计算
        if (carry != 0){
            // carrry计算的结果需要左移，因为进位是向左前位进1
            return aplusb(carry<<1 , sum);
        }
        return sum;
        
    }
}
```



## 总结

位运算的使用：

1. &操作只有两位均位1的时候结果才为1，这个时候是需要进位的，所以a、b相与后得到的是需要进位的位
2. ^操作只有两位不同的不同的时候(1^0的时候结果才为1，相同的时候0^0=0,1^1=0均为0)满足两个数相加，不考虑进位时的结果.
3. 递归的使用，需要存在一个终止条件。